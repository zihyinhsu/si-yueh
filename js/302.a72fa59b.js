"use strict";(self["webpackChunksi_yueh"]=self["webpackChunksi_yueh"]||[]).push([[302],{6294:function(s,t,e){var a=e(8262);t["Z"]=(0,a.Q_)("statusStore",{state:()=>({isLoadingItem:"",isLoading:!1,isBounced:!1,messages:[],message:{}}),actions:{loadingEffect(){this.isLoading=!0,setTimeout((()=>{this.isLoading=!1}),1e3)},loadingItemEffect(){this.isLoadingItem=!0,setTimeout((()=>{this.isLoadingItem=!1}),1e3)},toastShow(){setTimeout((()=>{this.messages.shift()}),1500)},clearToast(s){this.messages.splice(s,1)},pushMsg(s=!0,t="更新",e){this.message=s?{style:"primary",title:`${t}成功`,content:e,icon:"fa-circle-check"}:{style:"danger",title:`${t}失敗`,content:e,icon:"fa-circle-xmark"},this.statusMsg(this.message)},statusMsg(s){const{style:t,title:e,content:a,icon:r}=s;this.messages.push({style:t,title:e,content:a,icon:r}),this.toastShow()}}})},5302:function(s,t,e){e.r(t),e.d(t,{default:function(){return bs}});var a=e(6252),r=e(9963),i=e(3577),c=e(9163),l=e(8940);const d=(0,a._)("img",{src:c,alt:"Loading"},null,-1),o={class:"window-height"},n={class:"container"},u={class:"row justify-content-center"},h={class:"col-md-6 py-6 py-md-10"},p={class:"input-group me-2"},g=(0,a._)("button",{class:"btn btn-primary",type:"submit",id:"button-addon2"},[(0,a._)("i",{class:"fa-solid fa-magnifying-glass text-white"})],-1),m={class:"container"},_={key:0,class:"d-flex flex-column justify-content-center min-h-50vh py-5"},y=(0,a._)("i",{class:"fa-solid fa-triangle-exclamation text-primaryDark fa-2x mb-3"},null,-1),w=(0,a._)("p",{class:"text-center fw-bold mb-4"},"請記得輸入訂單編號喔 ~",-1),f=[y,w],x={key:1,class:"row justify-content-center"},b={class:"col-md-6 bg-light py-2"},k={class:"d-flex flex-column align-items-center"},v=(0,a._)("img",{class:"moving",src:l,alt:"貨態追蹤"},null,-1),D={class:"fw-bold text-secondaryDark"},O={key:2,class:"row justify-content-center py-6 py-md-12"},z={class:"col-md-9"},L={class:"row"},M={class:"col-md-5"},q={class:"d-flex justify-content-between align-items-center mb-5"},S=(0,a._)("p",{class:"bg-light text-primary fw-bold fs-3 p-2"},"# 用戶資訊",-1),$={class:"d-flex"},j={key:0,class:"text-secondary fw-bold me-2"},T={key:1,class:"text-secondary fw-bold me-2"},I={class:"switch"},E=(0,a._)("span",{class:"slider cursor-default"},null,-1),U={class:"table table-sm mb-5 mb-md-0"},V={class:"text-start"},Z=(0,a._)("th",{class:"text-secondaryDark",scope:"row"},"下單時間",-1),C={class:"text-secondaryDark"},H={class:"text-start"},N=(0,a._)("th",{class:"text-secondaryDark",scope:"row"},"Email",-1),Y={class:"text-secondaryDark"},B={class:"text-start"},K=(0,a._)("th",{class:"text-secondaryDark",scope:"row"},"收件人姓名",-1),Q={class:"text-secondaryDark"},W={class:"text-start"},A=(0,a._)("th",{class:"text-secondaryDark",scope:"row"},"電話號碼",-1),F={class:"text-secondaryDark"},G={class:"text-start"},J=(0,a._)("th",{class:"text-secondaryDark",scope:"row"},"收件地址",-1),P={class:"text-secondaryDark"},R={key:0,class:"text-start"},X=(0,a._)("th",{class:"text-secondaryDark",scope:"row"},"付款方式",-1),ss={class:"text-secondaryDark"},ts={key:1,class:"text-start"},es=(0,a._)("th",{class:"text-secondaryDark",scope:"row"},"備註",-1),as={class:"text-secondaryDark"},rs={class:"col-md-6 offset-md-1"},is=(0,a._)("div",{class:"d-flex mb-4"},[(0,a._)("p",{class:"bg-light text-primary fw-bold fs-3 p-2"},"# 訂單內容")],-1),cs={class:"d-flex align-items-center w-90"},ls=["src","alt"],ds={class:"cart-body text-start"},os={class:"fw-bold"},ns={class:"fw-bold"},us={class:"fw-bold text-primaryDark"},hs={key:0,class:"text-danger fw-bold"},ps={class:"w-10"},gs={class:"fs-4 fw-bold text-end"};function ms(s,t,e,c,l,y){const w=(0,a.up)("LoadingView");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(w,{class:"loading",active:l.isLoading},{default:(0,a.w5)((()=>[d])),_:1},8,["active"]),(0,a._)("div",o,[(0,a._)("div",n,[(0,a._)("div",u,[(0,a._)("div",h,[(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"search","onUpdate:modelValue":t[0]||(t[0]=s=>l.search=s),placeholder:"請輸入訂單編號","aria-label":"Search","aria-describedby":"button-addon2"},null,512),[[r.nr,l.search,void 0,{lazy:!0,trim:!0}]]),g])])])]),(0,a._)("div",m,[l.userOrder.id?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",_,f)),l.userOrder.id?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",b,[(0,a._)("div",k,[v,(0,a._)("p",D,(0,i.zw)(l.userOrder.orderStatus),1)])])])):(0,a.kq)("",!0),l.userOrder.id?((0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("div",z,[(0,a._)("div",L,[(0,a._)("div",M,[(0,a._)("div",q,[S,(0,a._)("div",$,[l.userOrder.is_paid?((0,a.wg)(),(0,a.iD)("span",j,"已付款")):((0,a.wg)(),(0,a.iD)("span",T,"未付款")),(0,a._)("label",I,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>l.userOrder.is_paid=s),disabled:""},null,512),[[r.e8,l.userOrder.is_paid]]),E])])]),(0,a._)("table",U,[(0,a._)("tbody",null,[(0,a._)("tr",V,[Z,(0,a._)("td",C,(0,i.zw)(s.$filters.date(l.userOrder.create_at)),1)]),(0,a._)("tr",H,[N,(0,a._)("td",Y,(0,i.zw)(l.userOrder.user.email),1)]),(0,a._)("tr",B,[K,(0,a._)("td",Q,(0,i.zw)(l.userOrder.user.name),1)]),(0,a._)("tr",W,[A,(0,a._)("td",F,(0,i.zw)(l.userOrder.user.tel),1)]),(0,a._)("tr",G,[J,(0,a._)("td",P,(0,i.zw)(l.userOrder.user.address),1)]),l.userOrder.user.payment?((0,a.wg)(),(0,a.iD)("tr",R,[X,(0,a._)("td",ss,(0,i.zw)(l.userOrder.user.payment),1)])):(0,a.kq)("",!0),l.userOrder.message?((0,a.wg)(),(0,a.iD)("tr",ts,[es,(0,a._)("td",as,(0,i.zw)(l.userOrder.message),1)])):(0,a.kq)("",!0)])])]),(0,a._)("div",rs,[is,(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.userOrder.products,(s=>((0,a.wg)(),(0,a.iD)("li",{class:"d-flex justify-content-between align-items-center py-2 mb-4",key:s.id},[(0,a._)("div",cs,[(0,a._)("img",{class:"ratio ratio-3x4 rounded-4 w-15 me-4",src:s.product.imageUrl,alt:s.product.title},null,8,ls),(0,a._)("div",ds,[(0,a._)("p",os,(0,i.zw)(s.product.title),1),(0,a._)("p",ns,(0,i.zw)(s.product.author),1),(0,a._)("p",us,"NT$ "+(0,i.zw)(Math.round(s.final_total)),1),s.coupon?((0,a.wg)(),(0,a.iD)("p",hs,"已套用優惠券")):(0,a.kq)("",!0)])]),(0,a._)("p",ps,"x "+(0,i.zw)(s.qty),1)])))),128)),(0,a._)("p",gs," 總計金額:NT$"+(0,i.zw)(Math.round(l.userOrder.total)),1)])])])])])):(0,a.kq)("",!0)])])],64)}var _s=e(8262),ys=e(6294),ws={data(){return{userOrder:{user:{},products:{}},search:"",isLoading:!1}},watch:{search:{handler(){""===this.search?this.userOrder={}:this.getOrders(this.search)},deer:!0}},methods:{...(0,_s.nv)(ys.Z,["pushMsg"]),getOrders(s){this.search.length<20||!this.search.includes("-")?this.pushMsg(!1,"搜尋","請重新搜尋"):(this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/zy123/order/${s}`).then((s=>{this.isLoading=!1,this.userOrder=s.data.order,this.userOrder.orderStatus||(this.userOrder.orderStatus="已收到訂單")})).catch((()=>{this.isLoading=!1,this.pushMsg(!1,"搜尋","請重新搜尋")})))}}},fs=e(3744);const xs=(0,fs.Z)(ws,[["render",ms]]);var bs=xs},9163:function(s,t,e){s.exports=e.p+"img/loading.8a13cb6e.gif"},8940:function(s,t,e){s.exports=e.p+"img/truck.7dbfb199.gif"}}]);
//# sourceMappingURL=302.a72fa59b.js.map