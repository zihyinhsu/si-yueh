"use strict";(self["webpackChunksi_yueh"]=self["webpackChunksi_yueh"]||[]).push([[950],{6294:function(t,s,e){var i=e(8262);s["Z"]=(0,i.Q_)("statusStore",{state:()=>({isLoadingItem:"",isLoading:!1,isBounced:!1,messages:[],message:{}}),actions:{loadingEffect(){this.isLoading=!0,setTimeout((()=>{this.isLoading=!1}),1e3)},loadingItemEffect(){this.isLoadingItem=!0,setTimeout((()=>{this.isLoadingItem=!1}),1e3)},toastShow(){setTimeout((()=>{this.messages.shift()}),1500)},clearToast(t){this.messages.splice(t,1)},pushMsg(t=!0,s="更新",e){this.message=t?{style:"primary",title:`${s}成功`,content:e,icon:"fa-circle-check"}:{style:"danger",title:`${s}失敗`,content:e,icon:"fa-circle-xmark"},this.statusMsg(this.message)},statusMsg(t){const{style:s,title:e,content:i,icon:n}=t;this.messages.push({style:s,title:e,content:i,icon:n}),this.toastShow()}}})},5522:function(t,s,e){e.d(s,{Z:function(){return p}});var i=e(6252),n=e(3577);const a={class:"toast-container position-fixed top-85 top-md-10 start-50 translate-middle z-index-3000"},o={class:"toast-header"},l={class:"me-auto"},c=["onClick"],r={class:"toast-body d-flex flex-column align-items-center text-dark"};function u(t,s,e,u,d,m){return(0,i.wg)(),(0,i.iD)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.messages,((s,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"toast show",role:"alert","aria-live":"assertive","aria-atomic":"true",key:e},[(0,i._)("div",o,[(0,i._)("span",{class:(0,n.C_)([`bg-${s.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,i._)("strong",l,(0,n.zw)(s.title),1),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close",onClick:s=>t.clearToast(e)},null,8,c)]),(0,i._)("div",r,[(0,i._)("i",{class:(0,n.C_)(["fa-solid fa-2x mb-3",`${s.icon} text-${s.style}`])},null,2),(0,i.Uk)(" "+(0,n.zw)(s.content),1)])])))),128))])}var d=e(8262),m=e(6294),h={methods:{...(0,d.nv)(m.Z,["toastShow","clearToast","statusMsg"])},computed:{...(0,d.rn)(m.Z,["messages"])},mounted(){}},g=e(3744);const f=(0,g.Z)(h,[["render",u]]);var p=f},6950:function(t,s,e){e.r(s),e.d(s,{default:function(){return j}});var i=e(6252);const n={class:"d-flex"},a={class:"d-flex flex-column w-100 p-9 bg-light"};function o(t,s,e,o,l,c){const r=(0,i.up)("AdminNavbar"),u=(0,i.up)("ToastMsg"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(r),(0,i.Wm)(u),(0,i._)("div",a,[l.checkSuccess?((0,i.wg)(),(0,i.j4)(d,{key:0})):(0,i.kq)("",!0)])])}var l=e(8262),c=e(6294),r=e(1203);const u={class:"sidebar d-flex flex-column justify-content-between w-25 bg-primaryDark vh-100 p-12"},d=(0,i._)("img",{class:"logo mb-10 w-100",src:r,alt:"徙閱二手書"},null,-1),m={class:"navbar-nav flex-column navActive w-100 me-3"},h={class:"nav-item d-flex align-items-center px-0 mb-4"},g=(0,i._)("i",{class:"fa-solid fa-book me-5"},null,-1),f=(0,i.Uk)("商品管理"),p={class:"nav-item d-flex align-items-center px-0 mb-4"},k=(0,i._)("i",{class:"fa-solid fa-file-lines me-5"},null,-1),v=(0,i.Uk)("訂單管理"),w={class:"nav-item d-flex align-items-center px-0"},_=(0,i._)("i",{class:"fa-solid fa-ticket me-5"},null,-1),x=(0,i.Uk)("優惠券管理"),b=(0,i._)("i",{class:"fa-solid fa-house-chimney me-2"},null,-1),y=(0,i.Uk)("回到前台 "),$=(0,i._)("i",{class:"fa-solid fa-arrow-right-from-bracket me-2"},null,-1),M=(0,i.Uk)("登出 "),T=[$,M];function Z(t,s,e,n,a,o){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("div",null,[(0,i.Wm)(l,{to:"/"},{default:(0,i.w5)((()=>[d])),_:1}),(0,i._)("ul",m,[(0,i._)("li",h,[(0,i.Wm)(l,{class:"nav-link text-white w-100",to:"/admin/products"},{default:(0,i.w5)((()=>[g,f])),_:1})]),(0,i._)("li",p,[(0,i.Wm)(l,{class:"nav-link text-white w-100",to:"/admin/orders"},{default:(0,i.w5)((()=>[k,v])),_:1})]),(0,i._)("li",w,[(0,i.Wm)(l,{class:"nav-link text-white w-100",to:"/admin/coupons"},{default:(0,i.w5)((()=>[_,x])),_:1})])])]),(0,i._)("div",null,[(0,i.Wm)(l,{type:"button",class:"btn btn-light d-flex justify-content-center align-items-center text-primaryDark mb-4",to:"/"},{default:(0,i.w5)((()=>[b,y])),_:1}),(0,i._)("div",{class:"btn btn-outline-light d-flex justify-content-center align-items-center text-hover-primaryDark",onClick:s[0]||(s[0]=(...t)=>o.signOut&&o.signOut(...t))},T)])])}var C={methods:{signOut(){document.cookie="zytoken=''; expires=''",this.$router.push("/login")}}},D=e(3744);const L=(0,D.Z)(C,[["render",Z]]);var S=L,W=e(5522),z={data(){return{checkSuccess:!1}},components:{AdminNavbar:S,ToastMsg:W.Z},methods:{...(0,l.nv)(c.Z,["pushMsg"]),checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)zyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((t=>{this.checkSuccess=!0,this.pushMsg(t,"登入","已成功登入")})).catch((()=>{this.pushMsg(!1,"登入","請重新登入"),this.$router.push("/login")}))}},mounted(){this.checkLogin()}};const U=(0,D.Z)(z,[["render",o]]);var j=U},1203:function(t,s,e){t.exports=e.p+"img/logo_white.61d74582.png"}}]);
//# sourceMappingURL=950.80260e1d.js.map